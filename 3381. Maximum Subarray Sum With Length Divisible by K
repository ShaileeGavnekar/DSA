class Solution {
    public long maxSubarraySum(int[] nums, int k) {
        long[] prefixSum=new long[nums.length];
        prefixSum[0]=nums[0];
        for(int i=1;i<nums.length;i++){
            prefixSum[i]=prefixSum[i-1] + nums[i];
        }
        long ans=Long.MIN_VALUE;
        for(int i=0;i<k;i++){
            long currSum=0;
            int j=i;
            while(j<nums.length && j+k-1<nums.length){
                int l=j+k-1;
                long subSum= prefixSum[l]- ((j>0)?prefixSum[j-1]:0);
                currSum= Math.max(subSum,currSum+subSum);
                ans=Math.max(ans,currSum);
                j= j+k;
            }
        }
        return ans;
    }
}
